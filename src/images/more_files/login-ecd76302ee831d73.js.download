(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9861],{4007:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/login",function(){return t(2719)}])},83139:function(e,n,t){"use strict";t.d(n,{W:function(){return l}});var r=t(85893),o=t(67294),s=t(45697),i=t.n(s),a=t(4956);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=function(e){var n=e.form,t=void 0===n?{values:{},touched:{},error:{}}:n,s=e.name,i=c(e,["form","name"]),l=(0,o.useState)(!1),d=l[0],f=l[1];return(0,r.jsx)(a.I,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}({name:s,onChange:t.handleChange,type:d?"text":"password",value:t.values[s],error:t.touched[s]&&t.errors[s],leftIcon:d?"visibilityOff":"visibilityOn",leftIconOnClick:function(e){e.stopPropagation(),f((function(e){return!e}))}},i))};l.propTypes={label:i().string,className:i().string,helper:i().string,error:i().oneOfType([i().string,i().bool]),isRequired:i().bool,disabled:i().bool,form:i().any}},82406:function(e,n,t){"use strict";t.d(n,{J:function(){return l}});var r=t(35527),o=t(79441),s=t(25617),i=t(3999),a=t(32766),u=t(11163);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=function(e){var n=(0,s.v9)(o.p.isLoggedIn),t=(0,u.useRouter)(),l=t.asPath;return(0,r.JV)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}({},e,{isLoggedIn:n,redirectCallback:function(){t.replace("".concat(a.SW,"?").concat(i.hD,"=").concat(l))}}))}},2719:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return J}});var r=t(85893),o=t(67294),s=t(45697),i=t.n(s),a=t(56514),u=t(82580),c=t(4956),l=t(19675),d=t(55678),f=t(63582),m=t(10527),p=t(54142),h=t(9730),b=t(32766),g=t(87543);function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){y(e,n,t[n])}))}return e}var j=function(e){var n=e.setStep,t=e.setResponse,o=e.setUsername,s=(0,m.E)({apiMethod:f.An}),i=s.request,y=s.pending,j=(0,u.TA)({initialValues:{username:""},onSubmit:function(e){o(e.username.trim()),i({username:e.username.trim()}).then((function(e){if(t(e),!e.hasAccount)return n(a.wN.register);n(e.loginMethod===a.eo.PASSWORD?a.wN.password:a.wN.otp)}))},validateOnBlur:!0,validate:function(e){var n={};return e.username?(0,p.jI)(e.username)&&(n.username=h.Ab):n.username=h.Qt,n}});return(0,r.jsxs)("form",{className:"w-full",onSubmit:j.handleSubmit,children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u0648\u0631\u0648\u062f | \u062b\u0628\u062a\u200c\u0646\u0627\u0645"}),(0,r.jsx)("p",{className:"text-body-2 color-700 mt-4 align-right w-full",children:"\u0633\u0644\u0627\u0645!"}),(0,r.jsx)("p",{className:"text-body-2 color-700 mb-4 align-right w-full",children:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644 \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)(c.j,{name:"username",autoFocus:!0,formik:j,inputWrapperProps:{fullWidth:!0}}),(0,r.jsx)(l.z,w({type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-6 mt-8-lg text-button-1",isLoading:y},(0,g.t6)("login-register"),{children:"\u0648\u0631\u0648\u062f"})),(0,r.jsxs)("p",{className:"text-caption color-700 mt-4",children:["\u0628\u0627 \u0648\u0631\u0648\u062f \u0628\u0647 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627\u060c",(0,r.jsx)(d.e,{mode:"link",href:b.A2,className:"mx-1 d-inline-block color-secondary-700",children:"\u0634\u0631\u0627\u06cc\u0637 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627"}),"\u0648",(0,r.jsx)(d.e,{mode:"link",href:b.SL,className:"mx-1 d-inline-block color-secondary-700",children:"\u0642\u0648\u0627\u0646\u06cc\u0646 \u062d\u0631\u06cc\u0645\u200c\u062e\u0635\u0648\u0635\u06cc"}),"\u0631\u0627 \u0645\u06cc\u200c\u067e\u0630\u06cc\u0631\u0645"]})]})};j.propTypes={setStep:i().func,setResponse:i().func};var v=t(82406),x=t(81440),O=t(84522),S=t(2798),N=t(62359),P=t(93002),R=function(e){var n,t=e.response,s=e.setStep,i=e.setResponse,c=(0,o.useState)(""),d=c[0],b=c[1],g=(0,v.J)({action:P.y}),y=g.request,w=g.pending,j=(0,m.E)({apiMethod:f.An}),R=j.request,k=j.pending,T=(0,o.useRef)(new Date),E=(0,u.TA)({initialValues:{code:""},onSubmit:function(e){y({username:t.username,code:(0,x.RQ)(e.code),type:a.eo.OTP})},validate:function(e){var n={};return(0,p.hj)(e.code)?n.code=h.se:e.code.length<5&&(n.code=h.VP),n}});return(0,r.jsxs)("form",{className:"w-full",onSubmit:E.handleSubmit,children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)("p",{className:"text-body-2 color-700 my-4 align-right w-full",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0628\u0631\u0627\u06cc \u0634\u0645\u0627\u0631\u0647 ".concat((0,x.c9)(t.username)," \u067e\u06cc\u0627\u0645\u06a9 \u0634\u062f")}),(0,r.jsx)(N.N,{name:"code",form:E,inputWrapperProps:{fullWidth:!0}}),t.hasPassword&&(0,r.jsxs)(l.z,{mode:"text",color:"blue",size:"small",className:"mt-4",onClick:function(){return s(a.wN.password)},padding:!1,children:["\u0648\u0631\u0648\u062f \u0628\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",(0,r.jsx)(O.JO,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,r.jsx)(S.U,{error:d,endTime:1e3*t.timer+(null===(n=T.current)||void 0===n?void 0:n.getTime()),onResend:function(){T.current=new Date,R({username:t.username,forceSendOtp:!0}).then((function(e){i(e)})).catch((function(e){var n;b(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}))},isLoading:k}),(0,r.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-4",isLoading:w,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})};R.propTypes={response:i().any,setStep:i().func,setResponse:i().func};var k=t(72255),T=t(89702),E=t(48088),z=t(83139),L=function(e){var n=e.setStep,t=e.setResponse,o=e.response,s=e.username,i=(0,k.e)().redirect,c=(0,v.J)({action:P.y}),d=c.request,p=c.pending,g=(0,m.E)({apiMethod:f.An}),y=g.request,w=g.pending,j=(0,u.TA)({initialValues:{password:""},onSubmit:function(e){d({username:s,password:e.password,type:a.eo.PASSWORD}).then((function(e){(null===e||void 0===e?void 0:e.shouldConfirmPhone)&&i({url:b.ih})}))},validate:function(e){var n={};return 0===e.password.length&&(n.password=h.gt),n}});return(0,r.jsxs)("form",{className:"w-full",onSubmit:j.handleSubmit,children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full my-4",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)(z.W,{isRequired:!0,name:"password",form:j,helper:" ",autoFocus:!0,inputWrapperProps:{fullWidth:!0}}),o.username&&(0,r.jsxs)(l.z,{type:"button",mode:"text",color:"blue",size:"small",onClick:function(){y({username:o.username,forceSendOtp:!0}).then((function(e){t(e),n(a.wN.otp)}))},className:"mt-3 p-0",padding:!1,isLoading:w,children:["\u0648\u0631\u0648\u062f \u0628\u0627 \u0631\u0645\u0632 \u06cc\u06a9\u200c\u0628\u0627\u0631\u200c\u0645\u0635\u0631\u0641",(0,r.jsx)(O.JO,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,r.jsxs)(l.z,{type:"button",mode:"text",color:"blue",size:"small",onClick:function(){(0,T.d8)(E.xu,o.username||s||""),i({url:b.sx})},className:"mt-3 p-0",padding:!1,children:["\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",(0,r.jsx)(O.JO,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,r.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-8",isLoading:p,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})};L.propTypes={response:i().any,setStep:i().func,setResponse:i().func};var A=function(e){var n=e.response,t=(e.setStep,e.setResponse),s=(0,k.e)().redirect,i=(0,o.useRef)(new Date),a=(0,o.useState)(""),c=a[0],d=a[1],g=(0,m.E)({apiMethod:f.An}),y=g.request,w=g.pending,j=(0,m.E)({apiMethod:f.dG,onSuccess:function(){v.setSubmitting(!1),s({url:b.iR})},onError:function(){v.setSubmitting(!1)}}).request,v=(0,u.TA)({initialValues:{code:""},onSubmit:function(e,t){(0,t.setSubmitting)(!0),j({username:n.username,code:e.code})},validate:function(e){var n={};return(0,p.hj)(e.code)?n.code=h.se:e.code.length<5&&(n.code=h.VP),n}});return(0,r.jsxs)("form",{className:"w-full",onSubmit:v.handleSubmit,children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)("p",{className:"text-body-2 color-700 my-4 align-right w-full",children:"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644\n        ".concat((0,x.c9)(n.username),"\n        \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a \u062d\u0633\u0627\u0628 \u062c\u062f\u06cc\u062f\u060c\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u0627\u0631\u0633\u0627\u0644 \u06af\u0631\u062f\u06cc\u062f.")}),(0,r.jsx)(N.N,{name:"code",form:v,inputWrapperProps:{fullWidth:!0}}),(0,r.jsx)(S.U,{error:c,isLoading:w,endTime:1e3*n.timer+i.current.getTime(),onResend:function(){i.current=new Date,y({username:n.username,forceSendOtp:!0}).then((function(e){t(e)})).catch((function(e){var n;d(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}))}}),(0,r.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-6 mt-8-lg",isLoading:v.isSubmitting,children:"\u0627\u062f\u0627\u0645\u0647"})]})};A.propTypes={response:i().any,setStep:i().func,setResponse:i().func};var W=t(83206),_=t(1944);function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){C(e,n,t[n])}))}return e}var I=function(e){var n=e.className,t=(0,o.useState)(a.wN.auth),s=t[0],i=t[1],u=(0,o.useState)({}),c=u[0],l=u[1],d=(0,o.useState)(""),f={setStep:i,setResponse:l,response:c,username:d[0],setUsername:d[1]};return(0,r.jsxs)(_.p,{className:n,children:[(0,r.jsx)(W.T,{setStep:i,firstStep:a.wN.auth,hasBack:s!==a.wN.auth,logoHiddenInMobile:s!==a.wN.auth,isIconFixedMobile:!0}),function(){switch(s){case a.wN.auth:return(0,r.jsx)(j,D({},f));case a.wN.password:return(0,r.jsx)(L,D({},f));case a.wN.otp:return(0,r.jsx)(R,D({},f));case a.wN.register:return(0,r.jsx)(A,D({},f));default:return null}}()]})};I.propTypes={className:i().string};var q=t(97717);function M(){return(0,r.jsx)(I,{})}M.redirectIfLogin=!0,M.layoutProps={type:q.B.CENTER,justify:"center"};var J=M}},function(e){e.O(0,[2580,4480,2087,9774,2888,179],(function(){return n=4007,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=login-ecd76302ee831d73.js.map